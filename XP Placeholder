class XP {
    constructor() {
        this.points = 0;  // Initialize XP points to 0
    }

    addPoints(amount) {
        this.points += amount;  // Add XP points dynamically
    }

    getPoints() {
        return this.points;  // Return the current XP points
    }
}

class Place {
    constructor(title, description) {
        this.title = title;  // Title of the place
        this.description = description;  // Description of the place
    }

    getInfo() {
        // Returns a formatted string with the title and description of the place
        return `Title: ${this.title}\nDescription: ${this.description}`;
    }
}

class MainScene extends Phaser.Scene {
    constructor() {
        super({ key: 'MainScene' });
        this.xp = new XP();  // Create an instance of the XP class
    }

    preload() {
        // Load game resources here (images, sounds, etc.)
    }

    create() {
        // Define two example places
        let castle = new Place("Ancient Castle", "A mysterious ruin filled with secrets and danger.");
        let forest = new Place("Dark Forest", "A dense forest where shadows move on their own.");

        // Display the information of the places in the console
        console.log(castle.getInfo());
        console.log(forest.getInfo());

        // Add XP points dynamically
        this.xp.addPoints(50);  // Gain 50 XP points
        console.log(`Current XP: ${this.xp.getPoints()}`);

        // Display XP on the screen in Phaser
        this.add.text(100, 100, `XP: ${this.xp.getPoints()}`, { font: '32px Arial', fill: '#fff' });

        // Add interaction to gain more XP points
        this.add.text(100, 200, 'Click to gain 100 XP', { font: '32px Arial', fill: '#fff' })
            .setInteractive()
            .on('pointerdown', () => {
                this.xp.addPoints(100);  // Add 100 XP points when clicked
                console.log(`New XP: ${this.xp.getPoints()}`);
                this.updateXPText();  // Update the displayed XP
            });
    }

    updateXPText() {
        // Update the displayed XP text on the screen
        this.children.getByName('xpText').setText(`XP: ${this.xp.getPoints()}`);
    }

    update() {
        // Update game logic (movement, collisions, etc.)
    }
}

// Phaser game configuration
const config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    scene: MainScene
};

const game = new Phaser.Game(config);
